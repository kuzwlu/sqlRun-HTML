<!DOCTYPE html>
<html lang="en" >

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
	<title>SqlRun 代码执行器</title>
	<link rel="icon" type="image/x-icon" href="/static/assets/img/favicon.ico" />
	<!-- BEGIN GLOBAL MANDATORY STYLES -->
	<link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
	<link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="/static/assets/css/plugins.css" rel="stylesheet" type="text/css" />
	<link href="/static/assets/css/scrollspyNav.css" rel="stylesheet" type="text/css" />
	<link href="/static/assets/css/components/custom-modal.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="/static/plugins/animate/animate.css">
	<link href="/static/assets/css/elements/custom-typography.css" rel="stylesheet" type="text/css" />

	<link href="/static/assets/css/elements/custom-typography.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="/static/assets/css/forms/theme-checkbox-radio.css">
	<link href="/static/assets/css/components/custom-media_object.css" rel="stylesheet" type="text/css" />
	<!-- END GLOBAL MANDATORY STYLES -->

	<script type="text/javascript" src="/static/js/jquery-3.5.1/jquery-3.5.1.min.js"></script>

	<!--  BEGIN CUSTOM STYLE FILE  -->
	<link href="/static/assets/css/elements/custom-tree_view.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="/static/plugins/bootstrap-select/bootstrap-select.min.css">
	<link rel="stylesheet" type="text/css" href="/static/plugins/table/datatable/datatables.css">
	<link rel="stylesheet" type="text/css" href="/static/plugins/table/datatable/custom_dt_miscellaneous.css">
	<link rel="stylesheet" type="text/css" href="/static/assets/css/forms/theme-checkbox-radio.css">
	<link rel="stylesheet" type="text/css" href="/static/plugins/table/datatable/dt-global_style.css">


	<link href="/static/codemirror/css/codemirror.css" rel="stylesheet" type="text/css" />
	<!-- 编辑器主题 -->
	<link rel="stylesheet" href="/static/codemirror/theme/3024-day.css">
	<link rel="stylesheet" href="/static/codemirror/theme/3024-night.css">
	<link rel="stylesheet" href="/static/codemirror/theme/abcdef.css">
	<link rel="stylesheet" href="/static/codemirror/theme/ambiance.css">
	<link rel="stylesheet" href="/static/codemirror/theme/ayu-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/ayu-mirage.css">
	<link rel="stylesheet" href="/static/codemirror/theme/base16-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/bespin.css">
	<link rel="stylesheet" href="/static/codemirror/theme/base16-light.css">
	<link rel="stylesheet" href="/static/codemirror/theme/blackboard.css">
	<link rel="stylesheet" href="/static/codemirror/theme/cobalt.css">
	<link rel="stylesheet" href="/static/codemirror/theme/colorforth.css">
	<link rel="stylesheet" href="/static/codemirror/theme/dracula.css">
	<link rel="stylesheet" href="/static/codemirror/theme/duotone-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/duotone-light.css">
	<link rel="stylesheet" href="/static/codemirror/theme/eclipse.css">
	<link rel="stylesheet" href="/static/codemirror/theme/elegant.css">
	<link rel="stylesheet" href="/static/codemirror/theme/erlang-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/gruvbox-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/hopscotch.css">
	<link rel="stylesheet" href="/static/codemirror/theme/icecoder.css">
	<link rel="stylesheet" href="/static/codemirror/theme/isotope.css">
	<link rel="stylesheet" href="/static/codemirror/theme/lesser-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/liquibyte.css">
	<link rel="stylesheet" href="/static/codemirror/theme/lucario.css">
	<link rel="stylesheet" href="/static/codemirror/theme/material.css">
	<link rel="stylesheet" href="/static/codemirror/theme/material-darker.css">
	<link rel="stylesheet" href="/static/codemirror/theme/material-palenight.css">
	<link rel="stylesheet" href="/static/codemirror/theme/material-ocean.css">
	<link rel="stylesheet" href="/static/codemirror/theme/mbo.css">
	<link rel="stylesheet" href="/static/codemirror/theme/mdn-like.css">
	<link rel="stylesheet" href="/static/codemirror/theme/midnight.css">
	<link rel="stylesheet" href="/static/codemirror/theme/monokai.css">
	<link rel="stylesheet" href="/static/codemirror/theme/moxer.css">
	<link rel="stylesheet" href="/static/codemirror/theme/neat.css">
	<link rel="stylesheet" href="/static/codemirror/theme/neo.css">
	<link rel="stylesheet" href="/static/codemirror/theme/night.css">
	<link rel="stylesheet" href="/static/codemirror/theme/nord.css">
	<link rel="stylesheet" href="/static/codemirror/theme/oceanic-next.css">
	<link rel="stylesheet" href="/static/codemirror/theme/panda-syntax.css">
	<link rel="stylesheet" href="/static/codemirror/theme/paraiso-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/paraiso-light.css">
	<link rel="stylesheet" href="/static/codemirror/theme/pastel-on-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/railscasts.css">
	<link rel="stylesheet" href="/static/codemirror/theme/rubyblue.css">
	<link rel="stylesheet" href="/static/codemirror/theme/seti.css">
	<link rel="stylesheet" href="/static/codemirror/theme/shadowfox.css">
	<link rel="stylesheet" href="/static/codemirror/theme/solarized.css">
	<link rel="stylesheet" href="/static/codemirror/theme/the-matrix.css">
	<link rel="stylesheet" href="/static/codemirror/theme/tomorrow-night-bright.css">
	<link rel="stylesheet" href="/static/codemirror/theme/tomorrow-night-eighties.css">
	<link rel="stylesheet" href="/static/codemirror/theme/ttcn.css">
	<link rel="stylesheet" href="/static/codemirror/theme/twilight.css">
	<link rel="stylesheet" href="/static/codemirror/theme/vibrant-ink.css">
	<link rel="stylesheet" href="/static/codemirror/theme/xq-dark.css">
	<link rel="stylesheet" href="/static/codemirror/theme/xq-light.css">
	<link rel="stylesheet" href="/static/codemirror/theme/yeti.css">
	<link rel="stylesheet" href="/static/codemirror/theme/idea.css">
	<link rel="stylesheet" href="/static/codemirror/theme/darcula.css">
	<link rel="stylesheet" href="/static/codemirror/theme/yonce.css">
	<link rel="stylesheet" href="/static/codemirror/theme/zenburn.css">
	<!--支持代码折叠-->
	<link rel="stylesheet" href="/static/codemirror/addon/fold/foldgutter.css" />
	<!-- 搜索 -->
	<link rel="stylesheet" href="/static/codemirror/addon/search/matchesonscrollbar.css" />
	<link rel="stylesheet" href="/static/codemirror/addon/dialog/dialog.css" />
	<link rel="stylesheet" href="/static/codemirror/addon/hint/show-hint.css" />

	<!-- 代码错误提示 -->
	<link rel="stylesheet" href="/static/codemirror/addon/lint/lint.css" />

	<!--  END CUSTOM STYLE FILE  -->
	<style>
		.code-section-container.show-code .code-section pre {
			height: auto;
			padding-left: 10px;
			padding-top: 0.5px;
			padding-bottom: 0.5px;
			font-size: 15px;
		}

		.caret::before {
			content: url(data:image/svg+xml,);
			color: #888ea8;
			display: inline-block;
			margin-right: 6px;
			vertical-align: sub;
		}

		.abox {}

		.abox::after {
			content: '';
			display: block;
			clear: both;
			height: 0px;
		}
	</style>
</head>

<body class="alt-menu sidebar-noneoverflow" data-spy="scroll" data-target="#navSection" data-offset="140">

	<!--  BEGIN NAVBAR  -->
	<div class="header-container fixed-top">
		<!-- 导航栏 -->
		<header class="header navbar navbar-expand-sm expand-header">
			<a href="javascript:void(0);" class="sidebarCollapse" data-placement="bottom"><svg
					xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
					stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
					class="feather feather-menu">
					<line x1="3" y1="12" x2="21" y2="12"></line>
					<line x1="3" y1="6" x2="21" y2="6"></line>
					<line x1="3" y1="18" x2="21" y2="18"></line>
				</svg></a>


			<ul class="navbar-item flex-row ml-auto">


				<li class="nav-item dropdown message-dropdown">
					<!-- <a href="javascript:void(0);" class="nav-link dropdown-toggle" id="messageDropdown" data-toggle="dropdown"
						 aria-haspopup="true" aria-expanded="false">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
							 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail">
								<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
								<polyline points="22,6 12,13 2,6"></polyline>
							</svg>
							<span class="badge badge-primary">3</span>
						</a> -->
					<div class="dropdown-menu position-absolute e-animated e-fadeInUp"
						aria-labelledby="messageDropdown">
						<div class="">
							<!-- <a class="dropdown-item">
									<div class="">
										<div class="media notification-new">
											<div class="notification-icon">
												<div class="icon-svg mr-3">
													<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
													 stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square">
														<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
													</svg>
												</div>
											</div>
											<div class="media-body">
												<p class="meta-title mr-3">5 messages for group</p>
												<p class="message-text">Kelly, Amy, Shaun</p>
												<p class="meta-time align-self-center mb-0">Yesterday</p>
											</div>
										</div>
									</div>
								</a> -->
							<a class="dropdown-item">
								<div class="">
									<div class="media notification-new">
										<div class="usr-profile-img mr-3">
											<div class="user-profile">
												<div class="">KY</div>
											</div>
										</div>
										<div class="media-body">
											<p class="meta-user-name mr-3">Kara Young</p>
											<p class="message-text">Some quick example text to build the notification ..
											</p>
											<p class="meta-time align-self-center mb-0">2 hours ago</p>
										</div>
									</div>
								</div>
							</a>
							<a class="dropdown-item">
								<div class="">
									<div class="media notification-new">
										<div class="notification-icon">
											<div class="icon-svg mr-3">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
													viewBox="0 0 24 24" fill="none" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
													class="feather feather-mail">
													<path
														d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
													</path>
													<polyline points="22,6 12,13 2,6"></polyline>
												</svg>
											</div>
										</div>
										<div class="media-body">
											<p class="meta-title mr-3">1 new email</p>
											<p class="message-text">Anderson.Daisy@mail.com</p>
											<p class="meta-time align-self-center mb-0">Yesterday</p>
										</div>
									</div>
								</div>
							</a>
						</div>
					</div>
				</li>

				<li class="nav-item dropdown notification-dropdown">
					<a href="javascript:void(0);" class="nav-link dropdown-toggle" id="notificationDropdown"
						data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
							stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
							class="feather feather-bell">
							<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
							<path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
						</svg>
						<span class="badge badge-success"></span>
					</a>
					<div class="dropdown-menu position-absolute e-animated e-fadeInUp"
						aria-labelledby="notificationDropdown">
						<div class="notification-scroll">

							<div class="dropdown-item">
								<div class="media">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
										fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
										stroke-linejoin="round" class="feather feather-message-square">
										<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
									</svg>
									<div class="media-body">
										<div class="notification-para"><span class="user-name">Shaun Park</span>
											commented
											on your post.
										</div>
										<div class="notification-meta-time">5 mins ago</div>
									</div>
								</div>
							</div>

							<div class="dropdown-item">
								<div class="media">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
										fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
										stroke-linejoin="round" class="feather feather-thumbs-up">
										<path
											d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3">
										</path>
									</svg>
									<div class="media-body">
										<div class="notification-para"><span class="user-name">Kelly Young</span> likes
											your
											photo
										</div>
										<div class="notification-meta-time">8 mins ago</div>
									</div>
								</div>
							</div>

							<div class="dropdown-item">
								<div class="media">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
										fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
										stroke-linejoin="round" class="feather feather-send">
										<line x1="22" y1="2" x2="11" y2="13"></line>
										<polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
									</svg>
									<div class="media-body">
										<div class="notification-para">Invitation successfully sent to <span
												class="user-name">Amy Diaz</span></div>
										<div class="notification-meta-time">10 mins ago</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</li>

				<li class="nav-item dropdown user-profile-dropdown  order-lg-0 order-1">
					<a href="javascript:void(0);" class="nav-link dropdown-toggle user" id="userProfileDropdown"
						data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
							stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
							class="feather feather-user-check">
							<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
							<circle cx="8.5" cy="7" r="4"></circle>
							<polyline points="17 11 19 13 23 9"></polyline>
						</svg>
					</a>
					<div class="dropdown-menu position-absolute e-animated e-fadeInUp"
						aria-labelledby="userProfileDropdown">
						<div class="user-profile-section">
							<div class="media mx-auto">
								<!-- <img src="assets/img/90x90.jpg" class="img-fluid mr-2" alt="avatar"> -->
								<div class="media-body">
									<h5>Alan Green</h5>
									<p>Web Developer</p>
								</div>
							</div>
						</div>
						<div class="dropdown-item">
							<a href="user_profile.html">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="feather feather-user">
									<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
									<circle cx="12" cy="7" r="4"></circle>
								</svg>
								<span>My Profile</span>
							</a>
						</div>
						<div class="dropdown-item">
							<a href="auth_lockscreen.html">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="feather feather-lock">
									<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
									<path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
								</svg>
								<span>Lock Screen</span>
							</a>
						</div>
						<div class="dropdown-item">
							<a onclick="logout()"  href="javascript:void(0);">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="feather feather-log-out">
									<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
									<polyline points="16 17 21 12 16 7"></polyline>
									<line x1="21" y1="12" x2="9" y2="12"></line>
								</svg>
								<span>Log Out</span>
							</a>
						</div>
					</div>
				</li>
			</ul>
		</header>
	</div>

	<!--  BEGIN MAIN CONTAINER  -->
	<div class="main-container sidebar-closed sbar-open" id="container">

		<div class="overlay"></div>
		<div class="cs-overlay"></div>
		<div class="search-overlay"></div>

		<div class="sidenav-overlay"></div>

		<!--  侧边栏  -->
		<div class="sidebar-wrapper sidebar-theme">

			<nav id="sidebar">

				<ul class="navbar-nav theme-brand flex-row  text-center">
					<li class="nav-item theme-logo">
						<a href="index.html">
							<!-- 侧边栏图片 -->
							<img src="/static/assets/img/90x90.jpg" class="navbar-logo" alt="logo">
						</a>
					</li>
					<li class="nav-item theme-text">
						<a href="index.html" class="nav-link"> SQL-RUN </a>
					</li>
				</ul>

				<ul class="list-unstyled menu-categories" id="accordionExample">

					<!-- 文件管理器 -->
					<li class="menu menu-heading">
						<div class="heading">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
								fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
								stroke-linejoin="round" class="feather feather-circle">
								<circle cx="12" cy="12" r="10"></circle>
							</svg>
							<span>主页</span>
						</div>
					</li>

					<!-- 文件管理器子目录 -->
					<!-- <li class="menu">
						<a href="/sqlExec.html" aria-expanded="false" class="dropdown-toggle">
							<div class="">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="feather feather-folder">
									<path
										d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z">
									</path>
								</svg>
								<span>SQL执行器</span>
							</div>
						</a>
					</li> -->

				</ul>

			</nav>

		</div>
		<!--  END SIDEBAR  -->

		<!--  BEGIN CONTENT AREA  -->
		<div id="content" class="main-content">
			<div class="container">

				<div class="container">

					<div id="navSection" data-spy="affix" class="nav sidenav">
						<div class="sidenav-content">
							<a href="#treeviewFileManager" class="active nav-link"> SQL执行器</a>
							<div style="margin-top: 55%;margin-left: 23%; ">
								历史记录
							</div>
							<div id="history" style="margin-top: 5%;margin-left: 5%;  ">
							</div>
						</div>
					</div>

					<div class="row layout-top-spacing">

						<div id="treeviewFileManager" class="col-lg-12 layout-spacing">
							<div id="mainBox" class="statbox widget box box-shadow">
								<div class="widget-header">
									<div class="row">
										<div class="col-xl-12 col-md-12 col-sm-12 col-12">
											<h4>数据库</h4>
										</div>
									</div>
								</div>
								<!-- 文件树 -->
								<div class="widget-content widget-content-area">
									<!-- 文件树 -->
									<ul id="myUL" class="file-tree">
									</ul>

									<!-- 代码块 show-code(显示代码) -->
									<div class="code-section-container">

										<button class="btn toggle-code-snippet"><span>Edit</span></button>

										<div id="hasShowCode" class="code-section text-left ">

											<div class="abox">

												<!-- 格式选择器 -->
												<p style="display: none; float: left;padding-right: 20px; "
													id="selectFormat">
													Format：<select class="selectpicker" onchange="selectFormat()"
														id="format" data-size="8">
														<option>json</option>
														<option selected>sql</option>
														<option>mysql</option>
														<option>mariadb</option>
														<option>hive</option>
													</select>
												</p>

												<!-- 主题选择器 -->
												<p style="display: none; float: left; padding-right: 20px;"
													id="selectTheme">
													Theme：<select class="selectpicker" onchange="selectTheme()"
														id="select" data-size="8">
														<option>default</option>
														<option>3024-day</option>
														<option>3024-night</option>
														<option>abcdef</option>
														<option>ambiance</option>
														<option>ayu-dark</option>
														<option>ayu-mirage</option>
														<option>base16-dark</option>
														<option>base16-light</option>
														<option>bespin</option>
														<option>blackboard</option>
														<option>cobalt</option>
														<option>colorforth</option>
														<option>darcula</option>
														<option>dracula</option>
														<option>duotone-dark</option>
														<option>duotone-light</option>
														<option>eclipse</option>
														<option>elegant</option>
														<option>erlang-dark</option>
														<option>gruvbox-dark</option>
														<option>hopscotch</option>
														<option>icecoder</option>
														<option selected>idea</option>
														<option>isotope</option>
														<option>lesser-dark</option>
														<option>liquibyte</option>
														<option>lucario</option>
														<option>material</option>
														<option>material-darker</option>
														<option>material-palenight</option>
														<option>material-ocean</option>
														<option>mbo</option>
														<option>mdn-like</option>
														<option>midnight</option>
														<option>monokai</option>
														<option>moxer</option>
														<option>neat</option>
														<option>neo</option>
														<option>night</option>
														<option>nord</option>
														<option>oceanic-next</option>
														<option>panda-syntax</option>
														<option>paraiso-dark</option>
														<option>paraiso-light</option>
														<option>pastel-on-dark</option>
														<option>railscasts</option>
														<option>rubyblue</option>
														<option>seti</option>
														<option>shadowfox</option>
														<option>solarized dark</option>
														<option>solarized light</option>
														<option>the-matrix</option>
														<option>tomorrow-night-bright</option>
														<option>tomorrow-night-eighties</option>
														<option>ttcn</option>
														<option>twilight</option>
														<option>vibrant-ink</option>
														<option>xq-dark</option>
														<option>xq-light</option>
														<option>yeti</option>
														<option>yonce</option>
														<option>zenburn</option>
													</select>
												</p>

												<!-- 长度选择器 -->
												<p style="display: none; float: left; " id="selectLength">
													Length：<select class="selectpicker" onchange="selectLength()"
														id="length" data-size="8">
														<option>100</option>
														<option selected="">200</option>
														<option>300</option>
														<option>400</option>
														<option>500</option>
														<option>600</option>
														<option>700</option>
														<option>800</option>
														<option>900</option>
														<option>1000</option>
													</select>
												</p>
												<div></div>
											</div>
											<h6 style="text-align: center;display: none;" id="h6Test">SQL-RUN</h6>
											<!-- 编辑器 -->
											<textarea class="form-control" placeholder="" id="code" name="code"
												style="display: none;"></textarea>
											<!-- end code-->
											<p id="submitCode" style="margin-top: 17px; display: none; float: left; ">
												数据库：<select data-width="11em" id="submitCodeSelect" class="selectpicker"
													data-size="8">
												</select>
											</p>
											<button onclick="runCode()" id="runCode"
												style="margin-top: 29px; display: none; float: right; "
												class="btn btn-primary mb-2">执行</button>

											<div id="tips" style="display: none; margin-top: 93px;"
												class="element-background">
											</div>

										</div>

									</div>

								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>

	</div>
	<script src="/static/assets/js/libs/jquery-3.1.1.min.js"></script>
	<script src="/static/bootstrap/js/popper.min.js"></script>
	<script src="/static/bootstrap/js/bootstrap.min.js"></script>
	<script src="/static/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script src="/static/plugins/highlight/highlight.pack.js"></script>
	<script src="/static/plugins/bootstrap-select/bootstrap-select.min.js"></script>
	<script src="/static/assets/js/custom.js"></script>
	<script src="/static/plugins/treeview/custom-jstree.js"></script>
	<script src="/static/assets/js/scrollspyNav.js"></script>
	<script src="/static/assets/js/app.js"></script>

	<!-- codemirror -->
	<script src="/static/codemirror/js/codemirror.js"></script>
	<!-- 代码高亮 -->
	<script src="/static/codemirror/mode/clike/clike.js"></script>
	<script src="/static/codemirror/mode/css/css.js"></script>
	<script src="/static/codemirror/mode/go/go.js"></script>
	<script src="/static/codemirror/mode/groovy/groovy.js"></script>
	<script src="/static/codemirror/mode/http/http.js"></script>
	<script src="/static/codemirror/mode/javascript/javascript.js"></script>
	<script src="/static/codemirror/mode/lua/lua.js"></script>
	<script src="/static/codemirror/mode/markdown/markdown.js"></script>
	<script src="/static/codemirror/mode/nginx/nginx.js"></script>
	<script src="/static/codemirror/mode/php/php.js"></script>
	<script src="/static/codemirror/mode/python/python.js"></script>
	<script src="/static/codemirror/mode/shell/shell.js"></script>
	<script src="/static/codemirror/mode/sql/sql.js"></script>
	<script src="/static/codemirror/mode/vue/vue.js"></script>
	<script src="/static/codemirror/mode/xml/xml.js"></script>
	<script src="/static/codemirror/mode/yaml/yaml.js"></script>

	<!-- 代码补全 -->
	<script src="/static/codemirror/addon/hint/anyword-hint.js"></script>
	<script src="/static/codemirror/addon/hint/css-hint.js"></script>
	<script src="/static/codemirror/addon/hint/html-hint.js"></script>
	<script src="/static/codemirror/addon/hint/javascript-hint.js"></script>
	<script src="/static/codemirror/addon/hint/show-hint.js"></script>
	<script src="/static/codemirror/addon/hint/sql-hint.js"></script>
	<script src="/static/codemirror/addon/hint/xml-hint.js"></script>
	<script src="/static/codemirror/addon/hint/clike-hint.js"></script>

	<!-- 代码错误提示 -->
	<script src="https://unpkg.com/jshint@2.9.6/dist/jshint.js"></script>
	<script src="https://unpkg.com/jsonlint@1.6.3/web/jsonlint.js"></script>
	<script src="https://unpkg.com/csslint@1.0.5/dist/csslint.js"></script>
	<script src="/static/codemirror/addon/lint/javascript-lint.js"></script>
	<script src="/static/codemirror/addon/lint/json-lint.js"></script>
	<script src="/static/codemirror/addon/lint/css-lint.js"></script>
	<script src="/static/codemirror/addon/lint/lint.js"></script>


	<script src="/static/codemirror/addon/fold/foldcode.js"></script>
	<script src="/static/codemirror/addon/fold/foldgutter.js"></script>
	<script src="/static/codemirror/addon/fold/brace-fold.js"></script>
	<script src="/static/codemirror/addon/fold/comment-fold.js"></script>
	<script src="/static/codemirror/addon/selection/active-line.js"></script>
	<script src="/static/codemirror/addon/edit/closebrackets.js"></script>
	<script src="/static/codemirror/addon/display/placeholder.js"></script>
	<!-- 搜索 -->
	<script src="/static/codemirror/addon/search/jump-to-line.js"></script>
	<script src="/static/codemirror/addon/search/match-highlighter.js"></script>
	<script src="/static/codemirror/addon/search/matchesonscrollbar.js"></script>
	<script src="/static/codemirror/addon/search/search.js"></script>
	<script src="/static/codemirror/addon/search/searchcursor.js"></script>
	<script src="/static/codemirror/addon/dialog/dialog.js"></script>
	<script src="/static/codemirror/addon/scroll/annotatescrollbar.js"></script>
	<script src="/static/js/main/main.js"></script>

	<!-- 操作 --->
	<script src="/static/assets/js/custom.js"></script>
	<script src="/static/js/main/myFunction.js"></script>
	<script src="/config.js"></script>
	<script src="/static/plugins/blockui/jquery.blockUI.min.js"></script>
	<script src="/static/plugins/blockui/custom-blockui.js"></script>
	<script src="/static/plugins/blockui/jquery.blockUI.min.js"></script>
	<script src="/static/plugins/blockui/custom-blockui.js"></script>
	<script src="/static/plugins/sweetalerts/promise-polyfill.js"></script>
	<script src="/static/plugins/sweetalerts/sweetalert2.min.js"></script>
	<script src="/static/plugins/sweetalerts/custom-sweetalert.js"></script>
	<script src="/static/plugins/table/datatable/datatables.js"></script>
	<script src="/static/plugins/table/datatable/custom_miscellaneous.js"></script>

	<script>
		isLogin();
		$(document).ready(function () {
			App.init();
		});
	</script>


	<script>
		window.onpageshow = function(){
			$.blockUI({
				message: '<svg> ... </svg>',
				fadeIn: 800, 
				timeout: delayTime-500, //unblock after 2 seconds
				overlayCSS: {
					backgroundColor: '#1b2024',
					opacity: 0.8,
					zIndex: 1200,
					cursor: 'wait'
				},
				css: {
					border: 0,
					color: '#fff',
					zIndex: 1201,
					padding: 0,
					backgroundColor: 'transparent'
				}
			});
		};
		//数据库名称数组
		var dataSource = [];
		$(function () {
			let result = post(serverHost+"/getUserInfo");
			getUserInfo();
			getMenu();
			let data = post(serverHost + "/getDataBase");
			//响应成功
			if (data.code === 200 && data.success === true) {
				getCodeLog(historyPage);
				let dataSourceTemp = "";
				//遍历数组
				$.each(data.content.data, function (i, result) {
					//数据库名
					let DBName = i.split("-")[0];
					//数据库类型
					let DBType = i.split("-")[1];
					dataSource.push(i);
					//HTML拼接
					$("#submitCodeSelect").append("<option data-content=\"<span class='badge badge-success'>" + DBName +
						"</span>\">" + DBName + "</option>");

					dataSourceTemp = dataSourceTemp + "<div id=\"" + i + "\" onclick=\"liOnClick('" + i +
						"')\" ><li class=\"file-tree-folder\">" + i;
					let tableTemp = "<ul id=\"" + i + "ul" + "\" style=\"display: none;\">";
					let dataSourceName = i;
					//遍历结果，依次拼接
					$.each(result, function (i, table) {
						tableTemp = tableTemp + "<div id=\"" + dataSourceName + i + "\" onclick=\"liOnClick('" + dataSourceName + i +
							"')\" ><li class=\"file-tree-folder\">表：" + i;
						let columnTemp = tableTemp + "<ul id=\"" + dataSourceName + i + "ul" + "\" style=\"display: none;\">";
						$.each(table, function (i, column) {
							columnTemp = columnTemp + "<li>字段：" + column + "</li>";
						});
						tableTemp = columnTemp + "</ul></li></div>";
					});
					dataSourceTemp = dataSourceTemp + tableTemp + "</ul></li></div>";
				});
				$(".file-tree").html(dataSourceTemp);
			} else {
				$(".file-tree").html("暂时还没有数据库！");
			}
			
		});

		function getCodeLog(limit){
			let codeLog =  post(serverHost+"/getCodeLog/?limit="+limit);
			if (codeLog.code === 200 && codeLog.success === true) {
				let codeLogTemp = ""; 
				//遍历数组
				$.each(codeLog.content.data, function (i, result) {
					codeLogTemp = codeLogTemp + "<p style=\"border-bottom: 1.5px solid #e6dddd;\">"+result+"</p>"; 
				})
				$("#history").html(codeLogTemp);
			}
		}

		//点击数据库li标签
		function liOnClick(liId) {
			let hasOpen = $("#" + liId).hasClass("open");
			if (hasOpen ) {
				$("#" + liId).removeClass("open");
				$("#" + liId + "ul").css({
					'display': 'none'
				});
			} else {
				$("#" + liId).addClass("open");
				$("#" + liId + "ul").css({
					'display': 'block'
				});
			}
		}

		//代码编辑器
		var editor;
		var flag = false;
		var editorFlag = true;
		$(".toggle-code-snippet").click(function () {
			showCode();
		})

		//运行代码锁定区
		var block = $('#mainBox');

		//运行代码
		function runCode() {
			$("#tips").css("display", "none");
			//锁定锁定区
			$(block).block({
				message: '<svg> ... </svg>',
				overlayCSS: {
					backgroundColor: '#fff',
					opacity: 0.8,
					cursor: 'wait'
				},
				css: {
					border: 0,
					padding: 0,
					backgroundColor: 'transparent'
				},
				onBlock: function () {
					clearTimeout();
				}
			});

			//选择的数据库
			let dataSourceName = $("#submitCodeSelect").val();
			//代码
			let code = editor.getValue();
			
			//数据库类型
			let DBType;
			$.each(dataSource, function (index, value) {
				let DBName = value.split("-")[0];
				if (DBName == dataSourceName) {
					DBType = value.split("-")[1];
				}
			});
			//POST
			let result = post(serverHost + "/runCode?dataSourceName=" + dataSourceName + "&DBType=" + DBType + "&code=" + code);
			if (result.code === 200 && result.success === true) {
				getCodeLog(historyPage);
				//清除锁定
				setTimeout("successRun();$(\"#tips\").css(\"display\", \"block\");", delayTime);
				//判断是否为数字如果是则是修改更新删除操作，否则查询
				if (isInteger(result.content.data)) {
					if (result.content.data === 0) {
						$("#tips").html("<h5 class=\"text-success\">执行成功!</h5><h6 class=\"text-primary\">");
					} else {
						$("#tips").html("<h5 class=\"text-success\">执行成功!</h5><h6 class=\"text-primary\">影响行数：" + result.content.data +
							"</h6>");
					}
				} else {
					var columns = [];
					let headerTable = "<div class=\"widget-content widget-content-area\"> <div class=\"toggle-list\">";
					let tableTr = "";
					if (result.content.data.length > 0) {
						$.each(result.content.data, function (index, value) {
							tableTr = tableTr + "<tr>";
							let tableTd = "";
							$.each(value, function (column, columnValue) {
								columns.push2(column);
								tableTd = tableTd + "<td>" + columnValue + "</td>";

							})
							tableTr = tableTr + tableTd + "</tr>";
						});
						//console.log(tableTr);
						let toggleList = "";
						let tableTh = "<tr>";
						$.each(columns, function (index, value) {
							toggleList = toggleList + "<a class=\"btn toggle-vis mb-4 ml-2\" data-column=" + index + ">" + value + "</a>";
							tableTh = tableTh + "<td>" + value + "</td>";
						})
						tableTh = tableTh + "</tr>";
						headerTable = headerTable + toggleList +
							"</div><div style=\"height:400px;\" class=\"table-responsive mb-4\"><table id=\"show-hide-col\" class=\"table table-hover\" style=\"width:100%\"><thead style=\"border-bottom: none;\">" +
							tableTh + "</thead><tbody>" + tableTr + "</tbody></table></div></div>";
						$("#tips").html(headerTable);
					} else {
						$("#tips").html("<h5 class=\"text-success\">执行成功!</h5><h6 class=\"text-primary\">表中内容为空</h6>");
					}
				}

			} else {
				//清除锁定
				getCodeLog(historyPage);
				setTimeout("errorRun();$(\"#tips\").css(\"display\", \"block\");", delayTime);
				$("#tips").html("<h5 class=\"text-danger\">执行出错!</h5><h6 class=\"text-primary\">" + result.content.data + "</h6>");
			}
		}

		//执行成功
		function successRun() {
			$(block).unblock({})
			const toast = swal.mixin({
				toast: true,
				position: 'top-end',
				showConfirmButton: false,
				timer: 3000,
				padding: '2em'
			});
			toast({
				type: 'success',
				title: '执行成功',
				padding: '2em',
			})
		}

		//执行失败
		function errorRun() {
			$(block).unblock({})
			const toast = swal.mixin({
				toast: true,
				position: 'top-end',
				showConfirmButton: false,
				timer: 3000,
				padding: '2em'
			});
			toast({
				type: 'error',
				title: '执行出错',
				padding: '2em',
			})
		}

		function isInteger(obj) {
			return typeof obj === 'number' && obj % 1 === 0
		}
		//从写Array的push，防止重复添加
		Array.prototype.push2 = function () {
			for (var i = 0; i < arguments.length; i++) {
				var ele = arguments[i];
				if (this.indexOf(ele) == -1) {
					this.push(ele);
				}
			}
		};
	</script>

</body>

</html>